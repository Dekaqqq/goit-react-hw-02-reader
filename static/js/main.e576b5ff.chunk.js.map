{"version":3,"sources":["components/Reader/Counter/Counter.module.css","components/Reader/Reader.module.css","components/Reader/Publication/Publication.jsx","components/Reader/Counter/Counter.jsx","components/Reader/Controls/Controls.jsx","components/Reader/Reader.jsx","components/App/App.jsx","index.js","components/Reader/Publication/Publication.module.css","components/Reader/Controls/Controls.module.css"],"names":["module","exports","Publication","title","text","className","styles","publication","publicationTitle","publicationText","Counter","activeIndex","itemsLength","counter","Controls","changeIndex","controls","type","button","onClick","disabled","name","getPubFromProps","props","Number","queryString","parse","item","Reader","state","target","items","lastItem","length","currentItem","setState","prev","history","push","pathname","location","search","currentPub","this","prevProps","prevState","prevPub","publicationNumber","reader","Component","App","path","render","publications","to","component","exact","from","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e576b5ff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__3t9fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__35Vo0\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ title, text }) => (\n    <article className={styles.publication}>\n        <h2 className={styles.publicationTitle}>{title}</h2>\n        <p className={styles.publicationText}>{text}</p>\n    </article>\n);\n\nPublication.propTypes = {\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ activeIndex, itemsLength }) => {\n    return (\n        <p className={styles.counter}>\n            {activeIndex}/{itemsLength}\n        </p>\n    );\n};\n\nCounter.propTypes = {\n    activeIndex: PropTypes.number.isRequired,\n    itemsLength: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ changeIndex, activeIndex, itemsLength }) => {\n    return (\n        <section className={styles.controls}>\n            <button\n                type=\"button\"\n                className={styles.button}\n                onClick={changeIndex}\n                disabled={!activeIndex}\n                name=\"prev\"\n            >\n                Назад\n            </button>\n            <button\n                type=\"button\"\n                className={styles.button}\n                onClick={changeIndex}\n                disabled={!(activeIndex < itemsLength - 1)}\n                name=\"next\"\n            >\n                Вперед\n            </button>\n        </section>\n    );\n};\n\nControls.propTypes = {\n    changeIndex: PropTypes.func.isRequired,\n    activeIndex: PropTypes.number.isRequired,\n    itemsLength: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport Publication from './Publication/Publication.jsx';\nimport Counter from './Counter/Counter.jsx';\nimport Controls from './Controls/Controls.jsx';\nimport styles from './Reader.module.css';\n\nconst getPubFromProps = props => Number(queryString.parse(props).item);\n\nclass Reader extends Component {\n    state = {\n        activeIndex: 0,\n    };\n\n    componentDidMount() {\n        const currentPub = getPubFromProps(this.props.location.search);\n        const { items } = this.props;\n        const itemsLength = items.length;\n\n        if (currentPub > itemsLength) {\n            return this.props.history.push({\n                pathname: this.props.location.pathname,\n                search: 'item=1',\n            });\n        }\n\n        if (currentPub) {\n            this.setState({ activeIndex: currentPub - 1 });\n\n            this.props.history.push({\n                pathname: this.props.location.pathname,\n                search: `item=${currentPub}`,\n            });\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const currentPub = getPubFromProps(this.props.location.search);\n        const prevPub = getPubFromProps(prevProps.location.search);\n        const { items } = this.props;\n        const itemsLength = items.length;\n\n        if (currentPub !== prevPub && currentPub <= itemsLength) {\n            this.setState({ activeIndex: currentPub - 1 });\n        } else if (currentPub > itemsLength) {\n            this.props.history.push({\n                pathname: this.props.location.pathname,\n                search: 'item=1',\n            });\n        }\n    }\n\n    changeIndex = ({ target }) => {\n        const { activeIndex } = this.state;\n        const { items } = this.props;\n        const { name } = target;\n        const itemsLength = items.length;\n        const lastItem = itemsLength - 1;\n        const currentItem = activeIndex + 1;\n\n        if (name === 'prev') {\n            if (activeIndex) {\n                this.setState(prev => ({\n                    activeIndex: prev.activeIndex - 1,\n                }));\n\n                this.props.history.push({\n                    pathname: this.props.location.pathname,\n                    search: `item=${currentItem - 1}`,\n                });\n            }\n        } else if (name === 'next') {\n            if (activeIndex < lastItem) {\n                this.setState(prev => ({\n                    activeIndex: prev.activeIndex + 1,\n                }));\n\n                this.props.history.push({\n                    pathname: this.props.location.pathname,\n                    search: `item=${currentItem + 1}`,\n                });\n            }\n        }\n    };\n\n    render() {\n        const { activeIndex } = this.state;\n        const { items } = this.props;\n        const itemsLength = items.length;\n        const publicationNumber = activeIndex + 1;\n\n        return (\n            <div className={styles.reader}>\n                <Publication {...items[activeIndex]} />\n                <Counter\n                    activeIndex={publicationNumber}\n                    itemsLength={itemsLength}\n                />\n                <Controls\n                    changeIndex={this.changeIndex}\n                    activeIndex={activeIndex}\n                    itemsLength={itemsLength}\n                />\n            </div>\n        );\n    }\n}\n\nReader.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default Reader;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport './App.css';\nimport Reader from '../Reader/Reader.jsx';\nimport publications from '../../assets/publications.json';\n\nconst App = () => (\n    <div>\n        <Switch>\n            <Route\n                path=\"/reader\"\n                render={props => <Reader items={publications} {...props} />}\n            />\n            <Route path=\"/:something\">\n                <Redirect to=\"/reader\" component={Reader} />\n            </Route>\n            <Redirect exact from=\"/\" to=\"/reader\" component={Reader} />\n        </Switch>\n    </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(\n    <HashRouter basename=\"/\">\n        <App />\n    </HashRouter>,\n    document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__34stn\",\"publicationTitle\":\"Publication_publicationTitle__pqB-h\",\"publicationText\":\"Publication_publicationText__Qe52Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__JfqMJ\",\"button\":\"Controls_button__3coC1\"};"],"sourceRoot":""}